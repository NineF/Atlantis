中断:
	中断是系统用来响应硬件设备请求的机制,它会打断进程的正常调度和执行,然后调用内核中的中断处理程序来响应设备的请求
	中断是一种异步的事件处理机制,可以提高系统的并发处理能力.
	为了解决中断处理程序执行过长和中断丢失的问题,将中断分成了两个阶段,就是上半部分和下半部分.上半部分用来快速处理中断,主要处理跟硬件紧密相关或时间敏感的工作;下半部分用来延迟处理上半部分未完成的工作,通常以内核线程的方式执行.
	以网卡接收数据包的例子来说:
		网卡接收到数据包后,会以硬件中断的方式,通知内核有数据到达,然后内核调用中断处理程序.对上半部分来说,就是将网卡中的数据读到内存中,然后更新一下硬件寄存器.最后发送一个软中断请求,通知下半部分做进一步处理
		下半部分被软中断唤醒后,从内存中找到网络数据,再按照网络协议栈,将数据进行解析和处理.送个应用服务器
		上半部会打断cpu正在执行的任务,然后立即执行中断处理程序.下半部以内核线程的方式执行,每个cpu都对应一个软中断内核线程,名字叫"ksoftirqd/CPU编号
		可以通过proc文件系统中的/proc/softirqs来观察软中断的运行情况






cpu性能指标:
	1.cpu使用率
		用户 CPU 使用率，包括用户态 CPU 使用率（user）和低优先级用户态 CPU 使用率（nice），表示 CPU 在用户态运行的时间百分比。用户 CPU 使用率高，通常说明有应用程序比较繁忙。
		系统 CPU 使用率，表示 CPU 在内核态运行的时间百分比（不包括中断）。系统 CPU 使用率高，说明内核比较繁忙。
		等待 I/O 的 CPU 使用率，通常也称为 iowait，表示等待 I/O 的时间百分比。iowait 高，通常说明系统与硬件设备的 I/O 交互时间比较长。
		软中断和硬中断的 CPU 使用率，分别表示内核调用软中断处理程序、硬中断处理程序的时间百分比。它们的使用率高，通常说明系统发生了大量的中断。
		除了上面这些，还有在虚拟化环境中会用到的窃取 CPU 使用率（steal）和客户 CPU 使用率（guest），分别表示被其他虚拟机占用的 CPU 时间百分比，和运行客户虚拟机的 CPU 时间百分比。
	2.平均负载,也就是系统的平均活跃进程数
	3.进程的上下文切换
	4.cpu缓存命中率


内存
	buffer:对磁盘数据的缓存
	cache:对文件数据的缓存,它们既会用在读请求中,也会用在写请求中







dstat:可以同时查看cpu和io这两种资源的使用情况 dstat 1 10
pidstat:查看某一进程的资源使用情况,磁盘读写情况	pidstat -d -p pid 1 3
sar:查看系统的网络收发情况,还有一个好处是,不仅可以观察网络收发的的吞吐量(BPS,每秒收发的字节数),还可以观察网络收发的PPS(每秒收发的网络帧数) sar -n DEV 1
tcpdump:抓取网卡上包    tcpdump -i eth0 -n tcp port 80
mpstat:查看cpu的使用情况  mpstat 1
free:查看系统中内存的使用情况
vmstat:查看系统内存,io,cpu等使用情况
cachestat 提供了整个系统缓存的读写命中情况。
cachetop 提供了每个进程的缓存命中情况。
